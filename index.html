<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/primevue/umd/primevue.min.js"></script>
    <script src="https://unpkg.com/@primevue/themes/umd/aura.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/menu.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/sidebar.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/badge.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/button.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/inputtext.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/card.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/chart.min.js"></script>
     <script src="https://unpkg.com/primevue/umd/avatar.min.js"></script>
     <script src="https://unpkg.com/primevue/umd/listbox.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/progressbar.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/dropdown.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/dialog.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/overlaypanel.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/divider.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/tooltip.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/tag.min.js"></script>
    <script src="https://unpkg.com/primevue/umd/progressspinner.min.js"></script>
    <script src="https://unpkg.com/@primevue/core/umd/core.min.js"></script>

    <style>
        /* Reset and basic styles */
        body, h1, h2, h3, h4, h5, h6, p, ul, li, a {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
        body {
            font-family: sans-serif;
            line-height: 1;
            background-color: #f8f9fa;
            color: #343a40;
        }
        ul {
            list-style: none;
        }
        a {
            text-decoration: none;
            color: inherit;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
        }
        .container {
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 250px;
            background-color: #343a40;
            color: #fff;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        .sidebar ul {
            margin-bottom: 20px;
        }
        .sidebar li {
            padding: 10px 0;
        }
         .sidebar li.active a {
            color: #007bff; /* Highlight the active item */
            font-weight: bold; /* Make the active item bold */
         }
        .sidebar a {
            color: #fff;
            display: block;
            padding: 5px 10px;
            border-radius: 4px;
             transition: background-color 0.3s ease;
        }
        .sidebar a:hover {
            background-color: #495057;
        }
         .sidebar .p-button {
            margin-top: auto;
        }


        .main-content {
            flex: 1;
            padding: 20px;
        }
        .dashboard-header {
             display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .dashboard-header .p-inputtext {
            max-width: 300px; /* Example max width */
        }
         .dashboard-header .user-profile {
              display: flex;
            align-items: center;
            gap: 10px;
         }
         .dashboard-header .user-profile p {
             margin-bottom: 0; /* Remove the default bottom margin */
         }

        .widgets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .widget-card {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
         .referral-program {
            text-align: center;
        }
        .referral-program h2 {
            margin-bottom: 10px;
        }
        .total-products,
        .total-earnings,
        .latest-downloads {
              display: flex;
            flex-direction: column;
            align-items: center; /* Center the content */
            text-align: center;
        }
        .total-products h2, .total-earnings h2,
         .latest-downloads h2 {
            margin-bottom: 10px; /* Space from the label */
        }
         .total-products .change,
         .total-earnings .change {
            font-size: 0.9em; /* Make the percentage smaller */
            color: #6c757d; /* Use a neutral color */
            margin-bottom: 10px;
        }
        .balances {
            display: flex;
            flex-direction: column;
        }
        .balances-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
         .top-products .product-item {
              display: flex;
            align-items: center;
            gap: 10px; /* Space between icon and text */
            margin-bottom: 10px;
            cursor: pointer;
            padding: 10px;
             border-radius: 4px;
             transition: background-color 0.3s ease;
        }
         .top-products .product-item:hover {
                background-color: #f8f9fa;
         }
        .chart-container {
           width: 100%;
           height: 200px; /* Adjust as necessary */
        }
         .p-overlaypanel .p-overlaypanel-content {
            padding: 20px;
        }

        .p-sidebar-left {
            z-index: 1000; /* Adjust the z-index value as needed */
        }

        .progress-label {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 5px;
         }
         .progress-label span:first-child {
             font-weight: bold;
         }
         .p-menuitem-link:hover {
            background-color: #495057;
        }
         .p-menuitem-text {
             padding-left: 10px; /* add some spacing to menu item text */
         }
         .p-avatar-circle {
             background-color: #e9ecef; /* a light grey for avatar background */
             color: #495057; /* Darker color for text/icon inside avatar */
            display: flex;
           align-items: center;
           justify-content: center; 
             font-weight: bold; /* Add this to make text bold inside the avatar */
         }
        .p-menu {
          background: #343a40;
          color: #fff;
          border:none;
          padding: 10px;
        }
        .p-menuitem-link{
          color: white;
        }
        .p-menuitem-link:hover{
           background-color: #495057;
        }
        .p-menuitem-text {
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div id="app">
       <div class="container">
            <div class="sidebar">
                <p-menu :model="menuItems" style="width: 100%;"></p-menu>
                <p-button label="Contact Us" icon="pi pi-envelope" styleClass="p-button-secondary"  @click="openContactUsDialog"></p-button>

            </div>
           <div class="main-content">
              <div class="dashboard-header">
                    <p-inputtext type="text" placeholder="Search..." />
                     <div class="user-profile">
                     <p-avatar  icon="pi pi-user" size="large" shape="circle"></p-avatar>
                         <p>Lucy Lure</p>
                         <p-badge value="3"></p-badge>
                   </div>

                </div>

                <div class="widgets-grid">
                    <div class="widget-card referral-program">
                        <h2>Want some EXTRA Money?</h2>
                        <p-button label="Referral Program" icon="pi pi-users" />
                    </div>

                   <div class="widget-card total-products">
                        <h2>Total Products</h2>
                        <p style="font-size: 2em; font-weight: bold;"> {{ totalProducts }} Items</p>
                        <span class="change"> {{ productsChange }} this week</span>
                        <div class="chart-container">
                             <p-chart type="line" :data="productsChartData" :options="chartOptions"></p-chart>
                         </div>
                    </div>

                    <div class="widget-card total-earnings">
                        <h2>Total Earnings</h2>
                         <p style="font-size: 2em; font-weight: bold;">${{ totalEarnings }}</p>
                        <span class="change">{{ earningsChange }} this week</span>
                        <div class="chart-container">
                             <p-chart type="line" :data="earningsChartData" :options="chartOptions"></p-chart>
                         </div>
                    </div>

                     <div class="widget-card latest-downloads">
                        <h2>Latest Downloads</h2>
                        <div class="chart-container">
                             <p-chart type="line" :data="downloadsChartData" :options="downloadChartOptions"></p-chart>
                         </div>
                        <p-tag value="359 on Thursday"></p-tag>
                    </div>

                   <div class="widget-card balances">
                        <h2>Balances</h2>
                        <div class="balances-item">
                            <span>Available:</span>
                            <span>${{ availableBalance }}</span>
                        </div>
                         <div class="balances-item">
                            <span>Pending:</span>
                           <span>${{ pendingBalance }}</span>
                        </div>
                        <p-button label="Withdraw Money" icon="pi pi-money-bill" styleClass="p-button-success" />
                    </div>

                    <div class="widget-card top-products">
                         <h2>Top Products</h2>
                       <div v-for="(product, index) in topProducts" :key="index" class="product-item" @click="showProductDetails(product)" >
                         <img :src="product.icon" alt="Product Icon" style="width: 30px; height: 30px;">
                         <span>{{ product.name }} <small>({{ product.category }})</small></span>
                            </div>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                       <p-button label="Upload Product" icon="pi pi-upload" @click="openUploadDialog" />
                </div>

                <p-dialog header="Upload Product" v-model:visible="uploadDialogVisible" :style="{ width: '50vw' }">
                  <p>This feature is under construction.</p>
                    <p-progressspinner v-if="uploading" />
                 </p-dialog>

               <p-dialog header="Contact Us" v-model:visible="contactUsDialogVisible" :style="{ width: '50vw' }">
                    <p>Contact us form will be here soon, try again later.</p>
                 </p-dialog>

                 <p-overlaypanel ref="productDetailsPanel" :dismissable="true">
                     <div v-if="selectedProduct">
                      <h3>{{ selectedProduct.name }}</h3>
                      <p><strong>Category:</strong> {{ selectedProduct.category }}</p>
                       <p><strong>Description:</strong> {{ selectedProduct.description }}</p>
                     </div>
                  </p-overlaypanel>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        const { FilterMatchMode } = PrimeVue;

         const app = createApp({
            setup() {
                const activeMenuItem = ref('Overview');
                const menuItems = ref([
                    { label: 'Overview', icon: 'pi pi-home', command: () => { activeMenuItem.value = 'Overview' } },
                    { label: 'Products', icon: 'pi pi-box', command: () => { activeMenuItem.value = 'Products' } },
                    { label: 'Campaigns', icon: 'pi pi-megaphone', command: () => { activeMenuItem.value = 'Campaigns' } },
                    { label: 'Schedules', icon: 'pi pi-calendar', command: () => { activeMenuItem.value = 'Schedules' } },
                    { label: 'Payouts', icon: 'pi pi-dollar', command: () => { activeMenuItem.value = 'Payouts' } },
                    { label: 'Statements', icon: 'pi pi-file', command: () => { activeMenuItem.value = 'Statements' } },
                   { label: 'Settings', icon: 'pi pi-cog', command: () => { activeMenuItem.value = 'Settings' } }
                 ]);

                const totalProducts = ref(1134);
                const productsChange = ref('+10%');
                const totalEarnings = ref(4231);
                 const earningsChange = ref('-22%');
                 const availableBalance = ref(537);
                const pendingBalance = ref(234);
                const uploadDialogVisible = ref(false);
                 const contactUsDialogVisible = ref(false);
                 const uploading = ref(false);
                 const productDetailsPanel = ref(null);
                 const selectedProduct = ref(null);
                 const showProductDetails = (product) => {
                     selectedProduct.value = product;
                     productDetailsPanel.value.toggle(event);
                  };
                   const openUploadDialog = () => {
                     uploadDialogVisible.value = true;
                     uploading.value = true;
                     setTimeout(()=> {
                          uploading.value = false;
                      }, 1000)
                };
                   const openContactUsDialog = () => {
                     contactUsDialogVisible.value = true;
                  };

                  const productsChartData = ref({
                     labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                      datasets: [{
                         label: 'Product Count',
                         data: [100, 120, 110, 130, 140, 150, 160],
                         borderColor: '#42A5F5',
                         tension: 0.4,
                        fill: false
                     }]
                   });
                    const earningsChartData = ref({
                      labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                      datasets: [{
                          label: 'Earnings',
                         data: [500, 550, 480, 600, 580, 700, 620],
                          borderColor: '#66BB6A',
                         tension: 0.4,
                          fill: false
                    }]
                });

                   const downloadsChartData = ref({
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                         label: 'Downloads',
                         data: [200, 250, 220, 300, 350, 400, 380],
                        borderColor: '#FFA726',
                        tension: 0.4,
                         fill: false
                     }]
                });
                const chartOptions = ref({responsive: true, maintainAspectRatio: false, plugins: {legend: {display: false}, }});

                  const downloadChartOptions = ref({
                 responsive: true, maintainAspectRatio: false,
                  plugins: {
                     legend: {
                         display: false,
                    },
                     tooltip: {
                        callbacks: {
                            title: () => {
                                return 'Daily Downloads';
                           },
                            label: (context) => {
                                 return `Downloads: ${context.formattedValue}`;
                            }
                        }
                    }
                 },
                  scales: {
                    x: {
                    }, y: {
                    },
                 }
                });
                  const topProducts = ref([
                    { name: 'Product A', category: 'Category 1', icon: 'https://placehold.co/600x400/EEE/31343C', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.' },
                    { name: 'Product B', category: 'Category 2', icon: 'https://placehold.co/600x400/EEE/31343C',  description: 'Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.' },
                    { name: 'Product C', category: 'Category 1', icon: 'https://placehold.co/600x400/EEE/31343C',  description: 'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.'},
                     { name: 'Product D', category: 'Category 3', icon: 'https://placehold.co/600x400/EEE/31343C',  description: 'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.' },
                      { name: 'Product E', category: 'Category 2', icon: 'https://placehold.co/600x400/EEE/31343C',  description: 'Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.' }
                 ]);

                return {
                    menuItems,
                   activeMenuItem,
                    totalProducts,
                    productsChange,
                   totalEarnings,
                   earningsChange,
                    availableBalance,
                    pendingBalance,
                    productsChartData,
                    earningsChartData,
                    chartOptions,
                   downloadsChartData,
                   downloadChartOptions,
                    topProducts,
                    uploadDialogVisible,
                     contactUsDialogVisible,
                    uploading,
                   openUploadDialog,
                   openContactUsDialog,
                    productDetailsPanel,
                    selectedProduct,
                     showProductDetails
                };
            }
         });

        app.use(PrimeVue.Config, { theme: { preset: PrimeVue.Themes.Aura, options: { darkModeSelector: false || 'none', }, }, });
        app.component('p-menu', PrimeVue.Menu);
        app.component('p-sidebar', PrimeVue.Sidebar);
        app.component('p-badge', PrimeVue.Badge);
        app.component('p-button', PrimeVue.Button);
        app.component('p-inputtext', PrimeVue.InputText);
        app.component('p-card', PrimeVue.Card);
       app.component('p-chart', PrimeVue.Chart);
        app.component('p-avatar', PrimeVue.Avatar);
        app.component('p-listbox', PrimeVue.ListBox);
         app.component('p-progressbar', PrimeVue.ProgressBar);
         app.component('p-dropdown', PrimeVue.Dropdown);
         app.component('p-dialog', PrimeVue.Dialog);
         app.component('p-overlaypanel', PrimeVue.OverlayPanel);
         app.component('p-divider', PrimeVue.Divider);
         app.component('p-tooltip', PrimeVue.Tooltip);
          app.component('p-tag', PrimeVue.Tag);
         app.component('p-progressspinner', PrimeVue.ProgressSpinner);


        app.mount('#app');
    </script>
</body>
</html>