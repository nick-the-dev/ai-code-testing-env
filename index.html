<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue.js App with PrimeVue</title>
    <link rel="stylesheet" href="https://unpkg.com/primevue/resources/themes/aura-light-green/theme.css" />
    <link rel="stylesheet" href="https://unpkg.com/primeicons/primeicons.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/primevue/core/core.min.js"></script>
    <script src="https://unpkg.com/primevue/button/button.min.js"></script>
    <script src="https://unpkg.com/primevue/menu/menu.min.js"></script>
    <script src="https://unpkg.com/primevue/inputtext/inputtext.min.js"></script>
    <script src="https://unpkg.com/primevue/dialog/dialog.min.js"></script>
     <script src="https://unpkg.com/primevue/card/card.min.js"></script>
    <script src="https://unpkg.com/primevue/dropdown/dropdown.min.js"></script>
    <script src="https://unpkg.com/primevue/selectbutton/selectbutton.min.js"></script>
    <script src="https://unpkg.com/primevue/textarea/textarea.min.js"></script>
    <script src="https://unpkg.com/primevue/slider/slider.min.js"></script>
    <script src="https://unpkg.com/primevue/checkbox/checkbox.min.js"></script>
    <script src="https://unpkg.com/primevue/rating/rating.min.js"></script>
    <script src="https://unpkg.com/primevue/progressbar/progressbar.min.js"></script>
     <script src="https://unpkg.com/primevue/avatar/avatar.min.js"></script>
     <script src="https://unpkg.com/primevue/badge/badge.min.js"></script>
    <script src="https://unpkg.com/primevue/toast/toast.min.js"></script>
    <script src="https://unpkg.com/primevue/ripple/ripple.min.js"></script>
    <script src="https://unpkg.com/primevue/confirmdialog/confirmdialog.min.js"></script>
    <script src="https://unpkg.com/primevue/confirmationservice/confirmationservice.min.js"></script>
     <script src="https://unpkg.com/primevue/overlaypanel/overlaypanel.min.js"></script>
     <script src="https://unpkg.com/primevue/tooltip/tooltip.min.js"></script>
     <script src="https://unpkg.com/primevue/divider/divider.min.js"></script>
    <script src="https://unpkg.com/primevue/paginator/paginator.min.js"></script>
    <script src="https://unpkg.com/@primevue/themes/umd/aura.min.js"></script>
     <style>
        html, body, div, span, applet, object, iframe,
        h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        a, abbr, acronym, address, big, cite, code,
        del, dfn, em, img, ins, kbd, q, s, samp,
        small, strike, strong, sub, sup, tt, var,
        b, u, i, center,
        dl, dt, dd, ol, ul, li,
        fieldset, form, label, legend,
        table, caption, tbody, tfoot, thead, tr, th, td,
        article, aside, canvas, details, embed,
        figure, figcaption, footer, header, hgroup,
        menu, nav, output, ruby, section, summary,
        time, mark, audio, video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
        article, aside, details, figcaption, figure,
        footer, header, hgroup, menu, nav, section {
            display: block;
        }
        body {
            line-height: 1;
        }
        ol, ul {
            list-style: none;
        }
        blockquote, q {
            quotes: none;
        }
        blockquote:before, blockquote:after,
        q:before, q:after {
            content: '';
            content: none;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
        }
        .p-button {
             margin: 5px;   
        }
        .p-card {
            margin: 10px;
        }
        .p-menu {
            margin-top: 10px;
        }
        .p-inputtext {
            margin-bottom: 10px;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>
    <div id="app" class="container">
        <p-toast></p-toast>
        <p-confirmdialog></p-confirmdialog>
        <p-menu :model="menuItems" ref="menu" popup></p-menu>
         <p-button icon="pi pi-bars" @click="toggleMenu($event)" label="Menu"></p-button>

        <h1>Welcome to My Vue.js App</h1>

        <p-card title="User Profile" style="width: 300px">
            <template #header>
            <img alt="user header" src="https://placehold.co/200x100/EEE/31343C" >
            </template>
            <div>
                <p-avatar image="https://placehold.co/50x50/EEE/31343C" shape="circle"></p-avatar>
                <p><strong>Name:</strong> {{user.name}}</p>
                <p><strong>Email:</strong> {{user.email}}</p>
                 <p><strong>Status:</strong> <p-badge :value="user.status" severity="success" v-if="user.status === 'Active'"></p-badge> <p-badge :value="user.status" severity="danger" v-else></p-badge></p>
            </div>
             <template #footer>
                <p-button icon="pi pi-user-edit" label="Edit" @click="editProfile()"></p-button>
            </template>

        </p-card>
        <p-divider></p-divider>
         <h2>Products</h2>
           <p-card v-for="(product, index) in products" :key="index" style="width: 300px">
            <template #header>
              <img alt="product header" :src="product.imageUrl" style="width: 100%; height: auto;">
            </template>
                <div>
                <h3>{{ product.name }}</h3>
                <p>{{ product.description }}</p>
                <p><strong>Price:</strong> {{ product.price }}</p>
                <p><strong>Rating:</strong><p-rating :modelValue="product.rating" :readonly="true" :stars="5" :cancel="false" ></p-rating></p>
                <p><strong>Availability:</strong><p-progressbar :value="product.availability" :showValue="false" v-if="product.availability < 100"></p-progressbar><span v-else>In Stock</span> </p>
                </div>
             <template #footer>
                  <p-button icon="pi pi-shopping-cart" label="Add to Cart" @click="addToCart(product)"></p-button>
             </template>
        </p-card>
        
        
       
        <p-dialog header="Edit Profile" v-model:visible="editDialogVisible" :modal="true" :style="{width: '50vw'}" :maximizable="true" >
            <p>Name: <p-inputtext v-model="editedUser.name" /></p>
            <p>Email: <p-inputtext v-model="editedUser.email" /></p>
             <p>Status: <p-selectbutton :modelValue="editedUser.status" @update:modelValue="(val) => editedUser.status = val" :options="statusOptions" /></p>
             <p>Bio:<p-textarea v-model="editedUser.bio" :rows="5" :cols="30" /></p>
               <p>Preferences:<p-slider v-model="editedUser.preferences" :min="0" :max="100" /></p>
               <p>Notifications:<p-checkbox v-model="editedUser.notifications" :binary="true" /></p>
             <template #footer>
                <p-button label="Save" icon="pi pi-check" @click="saveProfile()" class="p-button-success" />
                <p-button label="Cancel" icon="pi pi-times" @click="editDialogVisible = false" class="p-button-secondary" />
             </template>
        </p-dialog>
    
         <p-overlaypanel ref="op" >
            <div>{{ overlayContent }}</div>
        </p-overlaypanel>
       <p-paginator :rows="3" :totalRecords="100" @page="onPageChange" :rowsPerPageOptions="[3,6,9]" ></p-paginator>
      <p-button @click="showConfirm($event)" label="Confirm Action" icon="pi pi-exclamation-triangle"></p-button>  
    </div>

    <script>
    (function() {
        const { createApp, ref, onMounted } = Vue;
        const PrimeVue = window.PrimeVue.default;
        const Button = window.primevue.button;
        const Menu = window.primevue.menu;
        const InputText = window.primevue.inputtext;
        const Dialog = window.primevue.dialog;
        const Card = window.primevue.card;
        const Dropdown = window.primevue.dropdown;
        const SelectButton = window.primevue.selectbutton;
         const Textarea = window.primevue.textarea;
         const Slider = window.primevue.slider;
         const Checkbox = window.primevue.checkbox;
         const Rating = window.primevue.rating;
          const ProgressBar = window.primevue.progressbar;
          const Avatar = window.primevue.avatar;
          const Badge = window.primevue.badge;
          const Toast = window.primevue.toast;
           const Ripple = window.primevue.ripple;
          const ConfirmDialog = window.primevue.confirmdialog;
          const ConfirmationService = window.primevue.confirmationservice;
            const OverlayPanel = window.primevue.overlaypanel;
           const Tooltip = window.primevue.tooltip;
           const Divider = window.primevue.divider;
           const Paginator = window.primevue.paginator;

          

        const app = createApp({
            components: {
                'p-button': Button,
                'p-menu': Menu,
                'p-inputtext': InputText,
                'p-dialog': Dialog,
                 'p-card': Card,
                 'p-dropdown': Dropdown,
                  'p-selectbutton': SelectButton,
                  'p-textarea': Textarea,
                  'p-slider': Slider,
                   'p-checkbox': Checkbox,
                   'p-rating': Rating,
                   'p-progressbar': ProgressBar,
                   'p-avatar': Avatar,
                    'p-badge': Badge,
                     'p-toast': Toast,
                     'p-ripple': Ripple,
                      'p-confirmdialog': ConfirmDialog,
                    'p-overlaypanel': OverlayPanel,
                    'p-tooltip': Tooltip,
                    'p-divider': Divider,
                    'p-paginator': Paginator,
                   
            },
            setup() {
                 const toast = ref(null);
                 const confirmationService = ref(null);
                 const op = ref(null);
                 const overlayContent = ref('This is some overlay content!');
                const menu = ref(null);
                const menuItems = ref([
                    { label: 'Home', icon: 'pi pi-home', command: () => { console.log('Home clicked'); } },
                    { label: 'Settings', icon: 'pi pi-cog', command: () => { console.log('Settings clicked'); } },
                    { label: 'Profile', icon: 'pi pi-user', command: () => { console.log('Profile clicked'); } },
                    { label: 'Logout', icon: 'pi pi-sign-out', command: () => { console.log('Logout clicked'); } },
                ]);
                const user = ref({ name: 'John Doe', email: 'john.doe@example.com', status: 'Active', bio: 'A short bio.', preferences: 50, notifications: true });
                const editedUser = ref({ ...user.value });
                const editDialogVisible = ref(false);
                const statusOptions = ref(['Active', 'Inactive']);
                const products = ref([
                    { name: 'Product 1', description: 'Description of product 1', price: 29.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 4, availability: 80 },
                      { name: 'Product 2', description: 'Description of product 2', price: 49.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 3, availability: 100  },
                    { name: 'Product 3', description: 'Description of product 3', price: 19.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 5,  availability: 20 },
                    { name: 'Product 4', description: 'Description of product 4', price: 39.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 2,  availability: 60  },
                       { name: 'Product 5', description: 'Description of product 5', price: 59.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 4, availability: 90 },
                    { name: 'Product 6', description: 'Description of product 6', price: 25.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 1,  availability: 50 },
                     { name: 'Product 7', description: 'Description of product 7', price: 79.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 5,  availability: 100 },
                       { name: 'Product 8', description: 'Description of product 8', price: 109.99, imageUrl: 'https://placehold.co/200x150/EEE/31343C', rating: 3, availability: 70  },

                ]);

                 const editProfile = () => {
                    editedUser.value = { ...user.value };
                    editDialogVisible.value = true;
                };

                 const saveProfile = () => {
                    user.value = { ...editedUser.value };
                   editDialogVisible.value = false;
                   toast.value.add({ severity: 'success', summary: 'Success', detail: 'Profile updated successfully', life: 3000 });
                };
                const toggleMenu = (event) => {
                    menu.value.toggle(event);
                };
                 const addToCart = (product) => {
                        overlayContent.value = `Added ${product.name} to the cart`;
                        op.value.toggle(event)
                };
                const showConfirm = (event) => {
                        confirmationService.value.require({
                            message: 'Are you sure you want to proceed?',
                            header: 'Confirmation',
                            icon: 'pi pi-exclamation-triangle',
                            accept: () => {
                               toast.value.add({ severity: 'info', summary: 'Confirmed', detail: 'Action confirmed', life: 3000 });
                            },
                            reject: () => {
                                 toast.value.add({ severity: 'warn', summary: 'Cancelled', detail: 'Action cancelled', life: 3000 });
                            }
                        });
                    };
                 const onPageChange = (event) => {
                    console.log('Page Changed',event.page)
                    }; 

                onMounted(() => {
                    console.log('Vue app mounted');
                });

                return {  toast,  op, overlayContent, menu, menuItems, user, editDialogVisible, editedUser, statusOptions, products, editProfile, saveProfile, toggleMenu, addToCart, showConfirm, confirmationService, onPageChange };
            }
        });
        app.use(PrimeVue, { ripple: true });
        app.mount('#app');
    })();
    </script>
</body>
</html>