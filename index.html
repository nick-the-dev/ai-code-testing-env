<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue.js App</title>
    <link rel="stylesheet" href="https://unpkg.com/primevue/resources/themes/aura-light-teal/theme.css" />
    <link rel="stylesheet" href="https://unpkg.com/primevue/resources/primevue.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/primeicons/primeicons.css" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/primevue/core/core.min.js"></script>
    <script src="https://unpkg.com/primevue/button/button.min.js"></script>
     <script src="https://unpkg.com/primevue/menu/menu.min.js"></script>
    <script src="https://unpkg.com/primevue/menubar/menubar.min.js"></script>
    <script src="https://unpkg.com/primevue/dialog/dialog.min.js"></script>
    <script src="https://unpkg.com/primevue/inputtext/inputtext.min.js"></script>
    <script src="https://unpkg.com/primevue/dropdown/dropdown.min.js"></script>
    <script src="https://unpkg.com/primevue/toast/toast.min.js"></script>
     <script src="https://unpkg.com/primevue/toastservice/toastservice.min.js"></script>
    <style>
        html, body, div, span, applet, object, iframe,
        h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        a, abbr, acronym, address, big, cite, code,
        del, dfn, em, img, ins, kbd, q, s, samp,
        small, strike, strong, sub, sup, tt, var,
        b, u, i, center,
        dl, dt, dd, ol, ul, li,
        fieldset, form, label, legend,
        table, caption, tbody, tfoot, thead, tr, th, td,
        article, aside, canvas, details, embed, 
        figure, figcaption, footer, header, hgroup, 
        menu, nav, output, ruby, section, summary,
        time, mark, audio, video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }
        article, aside, details, figcaption, figure, 
        footer, header, hgroup, menu, nav, section {
            display: block;
        }
        body {line-height: 1;}
        ol, ul {list-style: none;}
        blockquote, q {quotes: none;}
        blockquote:before, blockquote:after,q:before, q:after {content: '';content: none;}
        table {border-collapse: collapse;border-spacing: 0;}
        body { font-family: sans-serif; }
        #app { margin: 20px; }
        .p-button { margin-right: 5px; }
    </style>
</head>
<body>
    <div id="app">
    <Menubar :model="menuItems" />
        <Toast ref="toast" />
        <h1>{{ title }}</h1>
       
        <p>Selected Item: {{ selectedItem ? selectedItem.label : 'None' }}</p>
        <Button icon="pi pi-plus" label="Add New" @click="openDialog" class="p-button-success" />
         <Button icon="pi pi-pencil" label="Edit Item" @click="editItem" :disabled="!selectedItem" class="p-button-warning" />
        <Button icon="pi pi-trash" label="Delete Item" @click="deleteItem" :disabled="!selectedItem" class="p-button-danger" />
        
        <Dropdown v-model="selectedItem" :options="items" optionLabel="label" placeholder="Select an Item" @change="onItemChange" />
         <Dialog v-model:visible="dialogVisible" :header="dialogTitle"  @hide="closeDialog">
           <div style="margin-bottom: 15px;">
            <label for="name">Name:</label>
                <InputText id="name" v-model="itemForm.label" />
                </div>
                 <div style="margin-bottom: 15px;">
                   <label for="description">Description:</label>
                   <InputText id="description" v-model="itemForm.description" />
                 </div>
                <Button label="Save" @click="saveItem" icon="pi pi-check" />
               <Button label="Cancel" @click="closeDialog" class="p-button-secondary" icon="pi pi-times"/>
             </Dialog>
        <ul>
            <li v-for="item in items" :key="item.id">
            {{ item.label }} - {{item.description}}
            </li>
        </ul>
    </div>
    <script>
    (function() {
    const { createApp, ref } = Vue;
    const { useToast } = PrimeVue;

    createApp({
        setup() {
             const toast = useToast();
           const title = ref('My Vue.js Application');
            const dialogVisible = ref(false);
             const dialogTitle = ref('Add New Item');
            const items = ref([
                { id: 1, label: 'Item 1', description: 'Description for Item 1', image: 'https://placehold.co/600x400/EEE/31343C' },
                 { id: 2, label: 'Item 2', description: 'Description for Item 2', image: 'https://placehold.co/600x400/EEE/31343C' },
                { id: 3, label: 'Item 3', description: 'Description for Item 3', image: 'https://placehold.co/600x400/EEE/31343C' },
                { id: 4, label: 'Item 4', description: 'Description for Item 4', image: 'https://placehold.co/600x400/EEE/31343C' },
                { id: 5, label: 'Item 5', description: 'Description for Item 5', image: 'https://placehold.co/600x400/EEE/31343C' },
                { id: 6, label: 'Item 6', description: 'Description for Item 6', image: 'https://placehold.co/600x400/EEE/31343C' },
                  { id: 7, label: 'Item 7', description: 'Description for Item 7', image: 'https://placehold.co/600x400/EEE/31343C' },
                  { id: 8, label: 'Item 8', description: 'Description for Item 8', image: 'https://placehold.co/600x400/EEE/31343C' },
                 { id: 9, label: 'Item 9', description: 'Description for Item 9', image: 'https://placehold.co/600x400/EEE/31343C' },
                  { id: 10, label: 'Item 10', description: 'Description for Item 10', image: 'https://placehold.co/600x400/EEE/31343C' }


            ]);
            const selectedItem = ref(null);
            const itemForm = ref({label: '', description: ''});
            const isEditMode = ref(false);
             const menuItems = ref([
               {label: 'Home', icon: 'pi pi-home', command: () => {toast.add({severity:'info', summary: 'Home', detail:'Navigated to Home', life: 3000});} },
                {label: 'Items', icon: 'pi pi-list', command: () => {toast.add({severity:'info', summary: 'Items', detail:'Navigated to Items', life: 3000});} },
               {label: 'Settings', icon: 'pi pi-cog', command: () => {toast.add({severity:'info', summary: 'Settings', detail:'Navigated to Settings', life: 3000});} },
            ]);

            const openDialog = () => {
                 dialogTitle.value = 'Add New Item';
                isEditMode.value = false;
                 itemForm.value = { label: '', description: '' };
                dialogVisible.value = true;
            };
              const editItem = () => {
                   if (selectedItem.value) {
                    dialogTitle.value = 'Edit Item';
                    isEditMode.value = true;
                    itemForm.value = { ...selectedItem.value };
                    dialogVisible.value = true;
                } else {
                      toast.add({severity:'warn', summary: 'Warning', detail:'Please select an item to edit', life: 3000});
                }
            };
            const closeDialog = () => {
                dialogVisible.value = false;
            };
            const saveItem = () => {
               if (itemForm.value.label && itemForm.value.description) {
                if (isEditMode.value) {
                    const index = items.value.findIndex(item => item.id === selectedItem.value.id);
                    if (index !== -1) {
                        items.value[index] = { ...itemForm.value, id: selectedItem.value.id };
                    }
                     toast.add({severity:'success', summary: 'Success', detail:'Item updated successfully', life: 3000});
                } else {
                     const newItem = { ...itemForm.value, id: Date.now() };
                    items.value.push(newItem);
                      toast.add({severity:'success', summary: 'Success', detail:'Item added successfully', life: 3000});

                }
               closeDialog();
              } else {
                toast.add({severity:'error', summary: 'Error', detail:'Please fill all fields', life: 3000});
            }
            };
           const deleteItem = () => {
            if (selectedItem.value) {
                items.value = items.value.filter(item => item.id !== selectedItem.value.id);
                selectedItem.value = null;
                 toast.add({severity:'success', summary: 'Success', detail:'Item deleted successfully', life: 3000});
            } else {
                 toast.add({severity:'warn', summary: 'Warning', detail:'Please select an item to delete', life: 3000});
            }
         };
         const onItemChange = () => {
            console.log('Selected item:', selectedItem.value);
        };
            return { title, items, selectedItem, openDialog, dialogVisible, closeDialog, saveItem, itemForm, deleteItem, editItem, dialogTitle, onItemChange, menuItems, toast};
        }
    }).use(PrimeVue.ToastService).mount('#app');
    })();
    </script>
</body>
</html>